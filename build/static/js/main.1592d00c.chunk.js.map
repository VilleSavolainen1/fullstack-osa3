{"version":3,"sources":["services/personsDb.js","Components/AddPerson.js","Components/Search.js","Components/Numbers.js","Components/Notification.js","Components/Error.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","delete","AddPerson","newName","newNumber","setNewName","setNewNumber","persons","setPersons","setNotification","setError","onSubmit","event","preventDefault","personsDb","name","number","then","concat","catch","err","response","data","res","newPerson","value","onChange","target","type","Search","search","setSearch","Numbers","query","person","deletePerson","setDeletePerson","handleClick","window","confirm","filter","toLowerCase","startsWith","map","n","i","key","onClick","Notification","message","setTimeout","className","Error","error","App","useState","notification","useEffect","length","object","ReactDOM","render","document","getElementById"],"mappings":"oQAGMA,EAAU,eAqBD,EAlBA,WACX,OAAOC,IAAMC,IAAIF,IAiBN,EAdA,SAAAG,GACX,OAAOF,IAAMG,KAAKJ,EAASG,IAahB,EANH,SAAAE,GACR,OAAOJ,IAAMK,OAAN,UAAgBN,EAAhB,YAA2BK,KCqCvBE,EArDG,SAAC,GAAsG,IAApGC,EAAmG,EAAnGA,QAASC,EAA0F,EAA1FA,UAAWC,EAA+E,EAA/EA,WAAYC,EAAmE,EAAnEA,aAAcC,EAAqD,EAArDA,QAASC,EAA4C,EAA5CA,WAAYC,EAAgC,EAAhCA,gBAAiBC,EAAe,EAAfA,SAqCvG,OACE,0BAAMC,SArBQ,SAACC,GACfA,EAAMC,iBAfU,SAAC,GAA4B,IAA1BV,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC5BU,EACU,CAAEC,KAAMZ,EAASa,OAAQZ,IAAaa,MAAK,WACjDT,EAAWD,EAAQW,OAAO,CAAEH,KAAMZ,EAASa,OAAQZ,KACnDK,EAAgB,SAAD,OAAUN,OACxBgB,OAAM,SAAAC,GAAG,OAAIV,EAASU,EAAIC,SAASC,SACxCR,IAEGG,MAAK,SAAAM,GACJf,EAAWe,EAAID,SAOnBE,CAAU,CAAErB,UAASC,cACrBC,EAAW,IACXC,EAAa,IACbQ,IAEGG,MAAK,SAAAM,GACJf,EAAWe,EAAID,WAcjB,6BACE,yCADF,SAEQ,2BAAOG,MAAOtB,EAASuB,SAZV,SAACd,GACxBP,EAAWO,EAAMe,OAAOF,WAatB,wCACU,2BAAOA,MAAOrB,EAAWsB,SAXZ,SAACd,GAC1BN,EAAaM,EAAMe,OAAOF,WAYxB,6BACE,4BAAQG,KAAK,UAAb,UCjCSC,EAfF,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,UAMvB,OACE,mDACuB,2BAAON,MAAOK,EAAQJ,SANxB,SAACd,GACtBmB,EAAUnB,EAAMe,OAAOF,YC4BZO,EA9BC,SAAC,GAA2E,IAGnEC,EAHPH,EAAyE,EAAzEA,OAAQvB,EAAiE,EAAjEA,QAASC,EAAwD,EAAxDA,WAAY0B,EAA4C,EAA5CA,OAAQC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,gBAU3DC,EAAc,SAACV,EAAQZ,GACtBuB,OAAOC,QAAP,iBAAyBxB,EAAzB,QACCD,EACKa,GACLb,IAECG,MAAK,SAAAI,GACFb,EAAWa,EAASC,MACLc,GAAfD,QAKZ,OACI,8BArBiBF,EAsBDH,EAARI,EArBOM,QAAO,SAAAzB,GAAI,OAAIA,EAAK0B,cAAcC,WAAWT,MAChDU,KAAI,SAACC,EAAGC,GAAJ,OAAU,wBAAIC,IAAKD,GAAID,EAAE,4BAAQG,QAAS,kBACtDV,EAAY9B,EAAQsC,GAAG7C,GAAIO,EAAQsC,GAAG9B,QADD,iBCUlCiC,G,MAfM,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,QAASxC,EAAqB,EAArBA,gBAC5B,OAAe,OAAZwC,EACQ,MAEXC,YAAW,WACPzC,EAAgB,QACjB,KAGC,yBAAK0C,UAAU,WACVF,MCMEG,G,MAhBD,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,MAAO3C,EAAc,EAAdA,SACnB,OAAa,OAAV2C,EACQ,MAGXH,YAAW,WACPxC,EAAS,QACV,KAGC,yBAAKyC,UAAU,gBACVE,MCkCEC,EAvCH,WAAO,IAAD,EAGcC,mBAAS,IAHvB,mBAGThD,EAHS,KAGAC,EAHA,OAIc+C,mBAAS,IAJvB,mBAITpD,EAJS,KAIAE,EAJA,OAKkBkD,mBAAS,IAL3B,mBAKTnD,EALS,KAKEE,EALF,OAMYiD,mBAAS,IANrB,mBAMTzB,EANS,KAMDC,EANC,OAOwBwB,mBAAS,MAPjC,mBAOTC,EAPS,KAOK/C,EAPL,OAQU8C,mBAAS,MARnB,mBAQTF,EARS,KAQF3C,EARE,OASwB6C,oBAAS,GATjC,mBASTpB,EATS,KASKC,EATL,KAWhBqB,qBAAU,WACR3C,IAEGG,MAAK,SAAAI,GACJb,EAAWa,EAASC,WAEvB,CAACf,EAAQmD,OAAQvB,IAEpB,IAAID,EAAS3B,EAAQoC,KAAI,SAAAgB,GAAY,MAAM,GAAN,OAAUA,EAAO5C,KAAjB,YAAyB4C,EAAO3C,WAErE,OACE,6BACE,yCACA,kBAAC,EAAD,CAAciC,QAASO,EAAc/C,gBAAiBA,IACtD,kBAAC,EAAD,CAAO4C,MAAOA,EAAO3C,SAAUA,IAC/B,kBAAC,EAAD,CAAQoB,OAAQA,EAAQC,UAAWA,IACnC,kBAAC,EAAD,CAAW5B,QAASA,EAASC,UAAWA,EACtCC,WAAYA,EAAYC,aAAcA,EACtCC,QAASA,EAASC,WAAYA,EAAYgD,aAAcA,EACxD/C,gBAAiBA,EAAiBC,SAAUA,IAE9C,uCACA,kBAAC,EAAD,CAASoB,OAAQA,EAAQvB,QAASA,EAAS2B,OAAQA,EAAQ1B,WAAYA,EACrEE,SAAUA,EAAUyB,aAAcA,EAAcC,gBAAiBA,MCtCzEwB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.1592d00c.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl);\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst del = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    del\r\n}","import React from 'react';\r\nimport personsDb from '../services/personsDb'\r\n\r\nconst AddPerson = ({ newName, newNumber, setNewName, setNewNumber, persons, setPersons, setNotification, setError }) => {\r\n\r\n\r\n  const newPerson = ({ newName, newNumber }) => {\r\n    personsDb\r\n      .create({ name: newName, number: newNumber }).then(() => {\r\n        setPersons(persons.concat({ name: newName, number: newNumber }))\r\n        setNotification(`Added ${newName}`)\r\n      }).catch(err => setError(err.response.data))\r\n    personsDb\r\n      .getAll()\r\n      .then(res => {\r\n        setPersons(res.data)\r\n      })\r\n  }\r\n\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    newPerson({ newName, newNumber });\r\n    setNewName('');\r\n    setNewNumber('')\r\n    personsDb\r\n      .getAll()\r\n      .then(res => {\r\n        setPersons(res.data)\r\n      })\r\n  }\r\n\r\n  const handleNameAdding = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberAdding = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        <h2>add a new</h2>\r\n        name: <input value={newName} onChange={handleNameAdding} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberAdding}></input>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddPerson;","import React from 'react';\r\n\r\nconst Search = ({search, setSearch}) => {\r\n\r\n    const handleSearch = (event) => {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n        filter shown with: <input value={search} onChange={handleSearch}></input>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n  export default Search;","import React from 'react';\r\nimport personsDb from '../services/personsDb';\r\n\r\nconst Numbers = ({search, persons, setPersons, person, deletePerson, setDeletePerson }) => {\r\n\r\n\r\n    const filter = (arr, query) => {\r\n        let name = arr.filter(name => name.toLowerCase().startsWith(query))\r\n        return name.map((n, i) => <li key={i}>{n}<button onClick={() => \r\n            handleClick(persons[i].id, persons[i].name)}>Delete</button></li>)\r\n    }\r\n\r\n\r\n    const handleClick = (target, name) => {\r\n        if(window.confirm(`Delete ${name}?`)){\r\n            personsDb\r\n            .del(target)\r\n            personsDb\r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response.data)\r\n                deletePerson ? setDeletePerson(false) : setDeletePerson(true)\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        {filter(person, search)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Numbers;\r\n\r\n ","import React from 'react';\r\nimport './notification.css';\r\n\r\nconst Notification = ({message, setNotification}) => {\r\n    if(message === null){\r\n        return null;\r\n    }\r\n    setTimeout(() => {\r\n        setNotification(null)\r\n    }, 3000)\r\n\r\n    return (\r\n        <div className=\"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React from 'react';\r\nimport './error.css';\r\n\r\nconst Error = ({error, setError}) => {\r\n    if(error === null){\r\n        return null;\r\n    }\r\n\r\n    setTimeout(() => {\r\n        setError(null)\r\n    }, 4000)\r\n\r\n    return (\r\n        <div className=\"errorMessage\">\r\n            {error}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;","import React, { useState, useEffect } from 'react';\r\nimport AddPerson from './Components/AddPerson';\r\nimport Search from './Components/Search';\r\nimport Numbers from './Components/Numbers';\r\nimport personsDb from './services/personsDb'\r\nimport Notification from './Components/Notification';\r\nimport Error from './Components/Error';\r\n\r\n\r\nconst App = () => {\r\n\r\n\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [search, setSearch] = useState('')\r\n  const [notification, setNotification] = useState(null)\r\n  const [error, setError] = useState(null)\r\n  const [deletePerson, setDeletePerson] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personsDb\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data);\r\n      })\r\n  }, [persons.length, deletePerson])\r\n\r\n  let person = persons.map(object => { return `${object.name} ${object.number}` })\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} setNotification={setNotification} />\r\n      <Error error={error} setError={setError} />\r\n      <Search search={search} setSearch={setSearch} />\r\n      <AddPerson newName={newName} newNumber={newNumber}\r\n        setNewName={setNewName} setNewNumber={setNewNumber}\r\n        persons={persons} setPersons={setPersons} notification={notification}\r\n        setNotification={setNotification} setError={setError}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Numbers search={search} persons={persons} person={person} setPersons={setPersons}\r\n        setError={setError} deletePerson={deletePerson} setDeletePerson={setDeletePerson} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n\r\n"],"sourceRoot":""}