{"version":3,"sources":["services/personsDb.js","Components/AddPerson.js","Components/Search.js","Components/Numbers.js","Components/Notification.js","Components/Error.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","AddPerson","newName","newNumber","setNewName","setNewNumber","persons","setPersons","setNotification","setError","isNew","onSubmit","event","preventDefault","x","toLowerCase","name","number","alert","sameNumber","window","confirm","personsDb","catch","then","res","data","sameName","concat","newPerson","value","onChange","target","type","Search","search","setSearch","Numbers","query","person","deletePerson","setDeletePerson","handleClick","response","filter","startsWith","map","n","i","key","onClick","Notification","message","setTimeout","className","Error","error","App","useState","notification","useEffect","length","object","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.12e955c3.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl);\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst del = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    del\r\n}","import React from 'react';\r\nimport personsDb from '../services/personsDb'\r\n\r\nconst AddPerson = ({newName, newNumber, setNewName, setNewNumber, persons, setPersons, setNotification, setError}) => {\r\n\r\nlet isNew = true;\r\n\r\nconst sameNumber = ({newName, newNumber}) => {\r\n  for(let x in persons){\r\n    if(newName.toLowerCase() === persons[x].name.toLowerCase() && newNumber === persons[x].number){\r\n      isNew = false;\r\n      alert(`${newName} is already added!`)\r\n    }\r\n  }\r\n}\r\n\r\nconst sameName = ({newName, newNumber}) => {\r\n  for(let x in persons){\r\n    if(newName.toLowerCase() === persons[x].name.toLowerCase() && newNumber !== persons[x].number){\r\n      isNew = false;\r\n      if(window.confirm(`${persons[x].name} is already added. Replace number?`)){\r\n        personsDb\r\n        .update(persons[x].id, {name: persons[x].name, number: newNumber})\r\n        .catch(() => {\r\n          setError(`${newName} is already removed.`)\r\n        })\r\n        personsDb\r\n        .getAll()\r\n        .then(res => {\r\n          setPersons(res.data)\r\n        })\r\n      }\r\n      }\r\n    }\r\n  }\r\n\r\n  const newPerson = ({newName, newNumber}) => {\r\n    if(isNew){\r\n      personsDb\r\n      .create({name: newName, number: newNumber})\r\n      setPersons(persons.concat({name: newName, number: newNumber}))\r\n      setNotification(`Added ${newName}`)\r\n      personsDb\r\n      .getAll()\r\n      .then(res => {\r\n        setPersons(res.data)\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n    const addName = (event) => {\r\n        event.preventDefault()\r\n        sameNumber({newName, newNumber});\r\n        sameName({newName, newNumber});\r\n        newPerson({newName, newNumber});\r\n        setNewName('');\r\n        setNewNumber('')\r\n        personsDb\r\n        .getAll()\r\n        .then(res => {\r\n          setPersons(res.data)\r\n        })\r\n    }\r\n\r\n    const handleNameAdding = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n    \r\n    const handleNumberAdding = (event) => {\r\n      setNewNumber(event.target.value)\r\n    }\r\n    \r\n    return (\r\n        <form onSubmit={addName}>\r\n        <div>\r\n          <h2>add a new</h2>\r\n          name: <input value={newName} onChange={handleNameAdding}/>\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberAdding}></input>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default AddPerson;","import React from 'react';\r\n\r\nconst Search = ({search, setSearch}) => {\r\n\r\n    const handleSearch = (event) => {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n        filter shown with: <input value={search} onChange={handleSearch}></input>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n  export default Search;","import React from 'react';\r\nimport personsDb from '../services/personsDb';\r\n\r\nconst Numbers = ({search, persons, setPersons, person, deletePerson, setDeletePerson }) => {\r\n\r\n\r\n    const filter = (arr, query) => {\r\n        let name = arr.filter(name => name.toLowerCase().startsWith(query))\r\n        return name.map((n, i) => <li key={i}>{n}<button onClick={() => \r\n            handleClick(persons[i].id, persons[i].name)}>Delete</button></li>)\r\n    }\r\n\r\n\r\n    const handleClick = (target, name) => {\r\n        if(window.confirm(`Delete ${name}?`)){\r\n            personsDb\r\n            .del(target)\r\n            personsDb\r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response.data)\r\n                deletePerson ? setDeletePerson(false) : setDeletePerson(true)\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        {filter(person, search)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Numbers;\r\n\r\n ","import React from 'react';\r\nimport './notification.css';\r\n\r\nconst Notification = ({message, setNotification}) => {\r\n    if(message === null){\r\n        return null;\r\n    }\r\n    setTimeout(() => {\r\n        setNotification(null)\r\n    }, 3000)\r\n\r\n    return (\r\n        <div className=\"message\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React from 'react';\r\nimport './error.css';\r\n\r\nconst Error = ({error, setError}) => {\r\n    if(error === null){\r\n        return null;\r\n    }\r\n\r\n    setTimeout(() => {\r\n        setError(null)\r\n    }, 3000)\r\n\r\n    return (\r\n        <div className=\"errorMessage\">\r\n            {error}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error;","import React, { useState, useEffect } from 'react';\r\nimport AddPerson from './Components/AddPerson';\r\nimport Search from './Components/Search';\r\nimport Numbers from './Components/Numbers';\r\nimport personsDb from './services/personsDb'\r\nimport Notification from './Components/Notification';\r\nimport Error from './Components/Error';\r\n\r\n\r\nconst App = () => {\r\n\r\n\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [search, setSearch] = useState('')\r\n  const [notification, setNotification] = useState(null)\r\n  const [error, setError] = useState(null)\r\n  const [deletePerson, setDeletePerson] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personsDb\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data);\r\n      })\r\n  }, [persons.length, deletePerson])\r\n\r\n  let person = persons.map(object => { return `${object.name} ${object.number}` })\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} setNotification={setNotification} />\r\n      <Error error={error} setError={setError} />\r\n      <Search search={search} setSearch={setSearch} />\r\n      <AddPerson newName={newName} newNumber={newNumber}\r\n        setNewName={setNewName} setNewNumber={setNewNumber}\r\n        persons={persons} setPersons={setPersons} notification={notification}\r\n        setNotification={setNotification} setError={setError}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Numbers search={search} persons={persons} person={person} setPersons={setPersons}\r\n        setError={setError} deletePerson={deletePerson} setDeletePerson={setDeletePerson} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n\r\n"],"sourceRoot":""}